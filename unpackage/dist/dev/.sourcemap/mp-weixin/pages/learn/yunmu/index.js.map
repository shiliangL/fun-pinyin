{"version":3,"file":"index.js","sources":["pages/learn/yunmu/index.vue","pages/learn/yunmu/index.vue?type=page"],"sourcesContent":["<template>\n\t<view class=\"yunmu-container\">\n\t\t<view class=\"header\">\n\t\t\t<text class=\"title\">韵母学习</text>\n\t\t</view>\n\n\t\t<view class=\"grid-container\">\n\t\t\t<view\n\t\t\t\tv-for=\"(pinyin, index) in pinyinList\"\n\t\t\t\t:key=\"index\"\n\t\t\t\tclass=\"pinyin-card\"\n\t\t\t\t@click=\"playAudio(pinyin)\"\n\t\t\t\t:class=\"{ playing: currentPlaying === pinyin }\"\n\t\t\t>\n\t\t\t\t<text class=\"pinyin\">{{ pinyin }}</text>\n\t\t\t\t<image\n\t\t\t\t\tclass=\"play-icon\"\n\t\t\t\t\t:src=\"currentPlaying === pinyin ? '/static/icons/pause.png' : '/static/icons/play.png'\"\n\t\t\t\t></image>\n\t\t\t\t<view v-if=\"loading === pinyin\" class=\"loading-spinner\"></view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tpinyinList: ['a', 'o', 'e', 'i', 'u', 'ü', 'ai', 'ei', 'ui', 'ao', 'ou', 'iu', 'ie', 'üe', 'er', 'an', 'en', 'in', 'un', 'ün', 'ang', 'eng', 'ing', 'ong'],\n\t\t\tcurrentPlaying: null,\n\t\t\tloading: null,\n\t\t\taudioContext: null\n\t\t}\n\t},\n\tmethods: {\n\t\tplayAudio(pinyin) {\n\t\t\tif (this.currentPlaying === pinyin) {\n\t\t\t\tthis.stopAudio();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.loading = pinyin;\n\t\t\tthis.currentPlaying = null;\n\n\t\t\tif (this.audioContext) {\n\t\t\t\tthis.audioContext.destroy();\n\t\t\t}\n\n\t\t\tthis.audioContext = uni.createInnerAudioContext();\n\t\t\tthis.audioContext.src = `/static/audio/${pinyin}.mp3`;\n\n\t\t\tthis.audioContext.onPlay(() => {\n\t\t\t\tthis.loading = null;\n\t\t\t\tthis.currentPlaying = pinyin;\n\t\t\t});\n\n\t\t\tthis.audioContext.onError((err) => {\n\t\t\t\tconsole.error('Audio error:', err);\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '播放失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\tthis.loading = null;\n\t\t\t\tthis.currentPlaying = null;\n\t\t\t});\n\n\t\t\tthis.audioContext.onEnded(() => {\n\t\t\t\tthis.currentPlaying = null;\n\t\t\t});\n\n\t\t\tthis.audioContext.play();\n\t\t},\n\t\tstopAudio() {\n\t\t\tif (this.audioContext) {\n\t\t\t\tthis.audioContext.stop();\n\t\t\t\tthis.audioContext.destroy();\n\t\t\t\tthis.audioContext = null;\n\t\t\t}\n\t\t\tthis.currentPlaying = null;\n\t\t\tthis.loading = null;\n\t\t}\n\t},\n\tbeforeDestroy() {\n\t\tthis.stopAudio();\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.yunmu-container {\n\tpadding: 20px;\n\n\t.header {\n\t\tmargin-bottom: 20px;\n\n\t\t.title {\n\t\t\tfont-size: 20px;\n\t\t\tfont-weight: bold;\n\t\t\tcolor: #333;\n\t\t}\n\t}\n\n\t.grid-container {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(4, 1fr);\n\t\tgap: 15px;\n\n\t\t.pinyin-card {\n\t\t\tbackground: #fff;\n\t\t\tborder-radius: 8px;\n\t\t\tpadding: 15px;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tbox-shadow: 0 2px 6px rgba(0,0,0,0.1);\n\t\t\tposition: relative;\n\t\t\ttransition: all 0.2s ease;\n\n\t\t\t&.playing {\n\t\t\t\tbackground: #f0f8ff;\n\t\t\t\ttransform: scale(1.05);\n\t\t\t}\n\n\t\t\t.pinyin {\n\t\t\t\tfont-size: 18px;\n\t\t\t\tfont-weight: bold;\n\t\t\t\tcolor: #333;\n\t\t\t\tmargin-bottom: 8px;\n\t\t\t}\n\n\t\t\t.play-icon {\n\t\t\t\twidth: 24px;\n\t\t\t\theight: 24px;\n\t\t\t}\n\n\t\t\t.loading-spinner {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 50%;\n\t\t\t\tleft: 50%;\n\t\t\t\ttransform: translate(-50%, -50%);\n\t\t\t\twidth: 20px;\n\t\t\t\theight: 20px;\n\t\t\t\tborder: 2px solid #007AFF;\n\t\t\t\tborder-top-color: transparent;\n\t\t\t\tborder-radius: 50%;\n\t\t\t\tanimation: spin 1s linear infinite;\n\t\t\t}\n\n\t\t\t@keyframes spin {\n\t\t\t\tto {\n\t\t\t\t\ttransform: translate(-50%, -50%) rotate(360deg);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n</style>\n","import MiniProgramPage from '/Users/shiliangl/code2025/fast-qt/pages/learn/yunmu/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AA0BA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,YAAY,CAAC,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,OAAO,OAAO,OAAO,KAAK;AAAA,MACzJ,gBAAgB;AAAA,MAChB,SAAS;AAAA,MACT,cAAc;AAAA,IACf;AAAA,EACA;AAAA,EACD,SAAS;AAAA,IACR,UAAU,QAAQ;AACjB,UAAI,KAAK,mBAAmB,QAAQ;AACnC,aAAK,UAAS;AACd;AAAA,MACD;AAEA,WAAK,UAAU;AACf,WAAK,iBAAiB;AAEtB,UAAI,KAAK,cAAc;AACtB,aAAK,aAAa;MACnB;AAEA,WAAK,eAAeA,oBAAI;AACxB,WAAK,aAAa,MAAM,iBAAiB,MAAM;AAE/C,WAAK,aAAa,OAAO,MAAM;AAC9B,aAAK,UAAU;AACf,aAAK,iBAAiB;AAAA,MACvB,CAAC;AAED,WAAK,aAAa,QAAQ,CAAC,QAAQ;AAClCA,sBAAc,MAAA,MAAA,SAAA,qCAAA,gBAAgB,GAAG;AACjCA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AACD,aAAK,UAAU;AACf,aAAK,iBAAiB;AAAA,MACvB,CAAC;AAED,WAAK,aAAa,QAAQ,MAAM;AAC/B,aAAK,iBAAiB;AAAA,MACvB,CAAC;AAED,WAAK,aAAa;IAClB;AAAA,IACD,YAAY;AACX,UAAI,KAAK,cAAc;AACtB,aAAK,aAAa;AAClB,aAAK,aAAa;AAClB,aAAK,eAAe;AAAA,MACrB;AACA,WAAK,iBAAiB;AACtB,WAAK,UAAU;AAAA,IAChB;AAAA,EACA;AAAA,EACD,gBAAgB;AACf,SAAK,UAAS;AAAA,EACf;AACD;;;;;;;;;;;;;;;;;ACrFA,GAAG,WAAW,eAAe;"}